{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/bengraham/Apps/GOOSE_RELOADED/goose-reloaded-frontend/src/pages/gun/Gun.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\n//^ Importing Reload component which display all the reload data\nimport Reload from '../../Components/Reload';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Handgun() {\n  _s();\n  const [reloads, setReloas] = useState();\n  const [admin, setAdmin] = useState();\n  const refreshCountValue = useSelector(state => state.redux.refreshCountValue); //~ Getting the refrsh count state value from REDUX\n\n  const [token, setToken] = useState(); //^ state which will be used to store JWT from local storage\n  useEffect(() => {\n    async function fetchAllReloads(token) {\n      const response = await fetch('http://localhost:8001/api/reload', {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setReloas(data); //^ Setting reloads from the DB to state\n    }\n\n    const userJWT = JSON.parse(localStorage.getItem('goose-reloaded-user'));\n    setToken(userJWT.token); //^ Setting the JWT token to state\n\n    if (localStorage.getItem('goose-reloaded-user')) {\n      const userToken = userJWT.token;\n      const adminJWT = userJWT.admin;\n      setAdmin(adminJWT);\n      fetchAllReloads(userToken);\n    }\n  }, [refreshCountValue]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Handgun\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-container\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add Reload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"link-container\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/gun/addgun\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Add Reload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reloads-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reload-wrapper\",\n        children: [console.log(reloads), admin ? reloads && reloads.map(rel =>\n        /*#__PURE__*/\n        //^ sending all the data from the DB as props to the reload compoent \n        _jsxDEV(Reload, {\n          token: token //^ using state to pass down the token value to each reload object.\n          ,\n          _id: rel._id,\n          user_email: rel.user_email //^ If the user is an admin the reloads will be displayed with the user's email\n          ,\n          user_title: rel.user_title,\n          bullet_head_make: rel.bullet_head_make,\n          bullet_head_type: rel.bullet_head_type,\n          bullet_weight: rel.bullet_weight,\n          powder_make: rel.powder_make,\n          powder_type: rel.powder_type,\n          powder_weight: rel.powder_weight,\n          casing_make: rel.casing_make,\n          primer_make: rel.primer_make\n        }, rel.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this)) : reloads && reloads.map(rel => /*#__PURE__*/_jsxDEV(Reload, {\n          token: token //^ using state to pass down the token value to each reload object.\n          ,\n          _id: rel._id,\n          user_title: rel.user_title,\n          bullet_head_make: rel.bullet_head_make,\n          bullet_head_type: rel.bullet_head_type,\n          bullet_weight: rel.bullet_weight,\n          powder_make: rel.powder_make,\n          powder_type: rel.powder_type,\n          powder_weight: rel.powder_weight,\n          casing_make: rel.casing_make,\n          primer_make: rel.primer_make\n        }, rel.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n}\n_s(Handgun, \"ywDSrdM3VpbsX3m3irRbahokoW4=\", false, function () {\n  return [useSelector];\n});\n_c = Handgun;\nvar _c;\n$RefreshReg$(_c, \"Handgun\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useEffect","useState","Link","useSelector","Reload","jsxDEV","_jsxDEV","Handgun","reloads","setReloas","admin","setAdmin","refreshCountValue","state","redux","token","setToken","fetchAllReloads","response","fetch","method","headers","data","json","userJWT","JSON","parse","localStorage","getItem","userToken","adminJWT","id","children","className","fileName","lineNumber","columnNumber","to","console","log","map","rel","_id","user_email","user_title","bullet_head_make","bullet_head_type","bullet_weight","powder_make","powder_type","powder_weight","casing_make","primer_make","_c","$RefreshReg$"],"sources":["/Users/bengraham/Apps/GOOSE_RELOADED/goose-reloaded-frontend/src/pages/gun/Gun.js"],"sourcesContent":["\"use client\"\nimport React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { useSelector } from 'react-redux'\n\n\n//^ Importing Reload component which display all the reload data\nimport Reload from '../../Components/Reload'\n\nexport default function Handgun() {\n\tconst [reloads, setReloas] = useState()\n\n\tconst [admin, setAdmin] = useState()\n\n\tconst refreshCountValue = useSelector((state) => state.redux.refreshCountValue) //~ Getting the refrsh count state value from REDUX\n\n\tconst [token, setToken] = useState() //^ state which will be used to store JWT from local storage\n\tuseEffect(() => {\n\t\t\n\t\tasync function fetchAllReloads(token) {\n\n\t\t\tconst response = await fetch('http://localhost:8001/api/reload', {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst data = await response.json()\n\t\t\tsetReloas(data) //^ Setting reloads from the DB to state\n\t\t}\n\n\n\t\tconst userJWT = JSON.parse(localStorage.getItem('goose-reloaded-user'))\n\t\tsetToken(userJWT.token) //^ Setting the JWT token to state\n\n\t\tif(localStorage.getItem('goose-reloaded-user')){\n\t\t\tconst userToken = userJWT.token\n\t\t\tconst adminJWT = userJWT.admin\n\t\t\tsetAdmin(adminJWT)\n\t\t\tfetchAllReloads(userToken)\n\t\t}\n\n\t}, [refreshCountValue])\n\n\treturn (\n\t\t<div id=\"Handgun\">\n\t\t\t\n\t\t\t<div className=\"title-container\">\n\t\t\t\t\n\t\t\t\t<h1>Add Reload</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"link-container\">\n\t\t\t\t<Link to=\"/gun/addgun\">\n\t\t\t\t\t<button>Add Reload</button>\n\t\t\t\t</Link>\n\t\t\t</div>\n\n\t\t\t<div className=\"reloads-container\">\n\n\t\t\t\t<div className=\"reload-wrapper\">\n\t\t\t\t\t{console.log(reloads)}\n\n\t\t\t\t\t{admin ? \n\t\t\t\t\treloads && reloads.map((rel) => (\n\t\t\t\t\t\t//^ sending all the data from the DB as props to the reload compoent \n\t\t\t\t\t\t<Reload \n\t\t\t\t\t\t\tkey={rel.id}\n\t\t\t\t\t\t\ttoken={token} //^ using state to pass down the token value to each reload object.\n\t\t\t\t\t\t\t_id={rel._id}\n\t\t\t\t\t\t\tuser_email={rel.user_email} //^ If the user is an admin the reloads will be displayed with the user's email\n\t\t\t\t\t\t\tuser_title={rel.user_title}\n\t\t\t\t\t\t\tbullet_head_make={rel.bullet_head_make}\n\t\t\t\t\t\t\tbullet_head_type={rel.bullet_head_type}\n\t\t\t\t\t\t\tbullet_weight={rel.bullet_weight}\n\t\t\t\t\t\t\tpowder_make={rel.powder_make}\n\t\t\t\t\t\t\tpowder_type={rel.powder_type}\n\t\t\t\t\t\t\tpowder_weight={rel.powder_weight}\n\t\t\t\t\t\t\tcasing_make={rel.casing_make}\n\t\t\t\t\t\t\tprimer_make={rel.primer_make}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\n\t\t\t\t\t:\n\t\t\t\t\treloads && reloads.map((rel) => (\n\n\t\t\t\t\t\t<Reload \n\t\t\t\t\t\t\tkey={rel.id}\n\t\t\t\t\t\t\ttoken={token} //^ using state to pass down the token value to each reload object.\n\t\t\t\t\t\t\t_id={rel._id}\n\t\t\t\t\t\t\tuser_title={rel.user_title}\n\t\t\t\t\t\t\tbullet_head_make={rel.bullet_head_make}\n\t\t\t\t\t\t\tbullet_head_type={rel.bullet_head_type}\n\t\t\t\t\t\t\tbullet_weight={rel.bullet_weight}\n\t\t\t\t\t\t\tpowder_make={rel.powder_make}\n\t\t\t\t\t\t\tpowder_type={rel.powder_type}\n\t\t\t\t\t\t\tpowder_weight={rel.powder_weight}\n\t\t\t\t\t\t\tcasing_make={rel.casing_make}\n\t\t\t\t\t\t\tprimer_make={rel.primer_make}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\t</div>\n\n\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}