{"ast":null,"code":"var _jsxFileName = \"/Users/bengraham/Apps/GOOSE_RELOADED/goose-reloaded-frontend/src/pages/auth/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  //^ Function which will handle the login logic\n  const handleLogin = async () => {\n    setError(null); //^ When the user logins in for the first time their should not be an error and after a failed attempt it will remove the previous error message.\n\n    try {\n      const response = await fetch(\"http://localhost:8001/api/user/login\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          email: email,\n          password: password\n        }),\n        headers: {\n          \"Content-Type\": \"Application/json\"\n        }\n      });\n      const data = await response.json();\n\n      //^ If their is an error loggin the user it will be set to Error state and then displayed on the screen.\n      if (data.error) {\n        setError(data.error);\n      }\n\n      //^ If no errors are encounted when loggin in the jwt will be added to local storage.\n      else {\n        localStorage.setItem('goose-reloaded-user', JSON.stringify(data));\n        window.location.assign(\"/\");\n      }\n    } catch (error) {\n      setError(\"Caanot connect to server\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Login-Signup-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-container\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogin,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Not yet a member yet, \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/auth/Signup\",\n          children: \" Signup.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"bxtIPthiONuljobpSvWKGgagkfQ=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","error","setError","handleLogin","response","fetch","method","body","JSON","stringify","headers","data","json","localStorage","setItem","window","location","assign","id","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","value","onClick","to","_c","$RefreshReg$"],"sources":["/Users/bengraham/Apps/GOOSE_RELOADED/goose-reloaded-frontend/src/pages/auth/Login.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\n\nexport default function Login() {\n    const [email, setEmail] = useState()\n    const [password, setPassword] = useState()\n    const [error, setError] = useState()\n\n    //^ Function which will handle the login logic\n    const handleLogin = async () => {\n        setError(null) //^ When the user logins in for the first time their should not be an error and after a failed attempt it will remove the previous error message.\n\n        try {\n            const response = await fetch(\"http://localhost:8001/api/user/login\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                    email: email,\n                    password: password\n                }),\n                headers: {\n                    \"Content-Type\": \"Application/json\"\n                }\n            })\n\n            const data = await response.json()\n\n            //^ If their is an error loggin the user it will be set to Error state and then displayed on the screen.\n            if(data.error){\n                setError(data.error)\n            }\n\n            //^ If no errors are encounted when loggin in the jwt will be added to local storage.\n            else {\n                localStorage.setItem('goose-reloaded-user', JSON.stringify(data))\n                window.location.assign(\"/\")\n            }\n        }\n\n        catch(error){\n            setError(\"Caanot connect to server\")\n        }\n    }\n\n    return (\n        <div id=\"Login-Signup-form\">\n\n            <div className=\"form-container\">\n\n                <div className=\"title-container\">\n                    <h1>Login</h1>\n                </div>\n\n                <div className=\"input-container\">\n                    <div className=\"email-wrapper\">\n                        <h2>Email</h2>\n                        <input type=\"text\" onChange={(e) => setEmail(e.target.value)}/>\n                    </div>\n                    <div className=\"password-wrapper\">\n                        <h2>Password</h2>\n                        <input type=\"password\" onChange={(e) => setPassword(e.target.value)}/>\n                    </div>\n                </div>\n\n                <div className=\"button-container\">\n                    <button onClick={handleLogin}>Login</button>\n                </div>\n\n                {error && <div className=\"error-container\">\n                    <div>\n                         <h4>{error}</h4>\n                    </div>\n                </div>}\n            </div>\n\n            <div className=\"text-container\">\n                {/* This link will allow the user to go to the Signup page  */}\n                 <p>Not yet a member yet, <Link to=\"/auth/Signup\"> Signup.</Link></p>\n            </div>\n\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}